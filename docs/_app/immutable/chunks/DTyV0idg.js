function on(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Z={},pe,Qe;function sn(){return Qe||(Qe=1,pe=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),pe}var me={},F={},We;function O(){if(We)return F;We=1;let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return F.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},F.getSymbolTotalCodewords=function(r){return t[r]},F.getBCHDigit=function(o){let r=0;for(;o!==0;)r++,o>>>=1;return r},F.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');e=r},F.isKanjiModeEnabled=function(){return typeof e<"u"},F.toSJIS=function(r){return e(r)},F}var ye={},$e;function Ke(){return $e||($e=1,(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+o)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,n){if(e.isValid(r))return r;try{return t(r)}catch{return n}}})(ye)),ye}var be,et;function an(){if(et)return be;et=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(t){const o=Math.floor(t/8);return(this.buffer[o]>>>7-t%8&1)===1},put:function(t,o){for(let r=0;r<o;r++)this.putBit((t>>>o-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const o=Math.floor(this.length/8);this.buffer.length<=o&&this.buffer.push(0),t&&(this.buffer[o]|=128>>>this.length%8),this.length++}},be=e,be}var we,tt;function cn(){if(tt)return we;tt=1;function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return e.prototype.set=function(t,o,r,n){const i=t*this.size+o;this.data[i]=r,n&&(this.reservedBit[i]=!0)},e.prototype.get=function(t,o){return this.data[t*this.size+o]},e.prototype.xor=function(t,o,r){this.data[t*this.size+o]^=r},e.prototype.isReserved=function(t,o){return this.reservedBit[t*this.size+o]},we=e,we}var ve={},nt;function ln(){return nt||(nt=1,(function(e){const t=O().getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const n=Math.floor(r/7)+2,i=t(r),s=i===145?26:Math.ceil((i-13)/(2*n-2))*2,a=[i-7];for(let c=1;c<n-1;c++)a[c]=a[c-1]-s;return a.push(6),a.reverse()},e.getPositions=function(r){const n=[],i=e.getRowColCoords(r),s=i.length;for(let a=0;a<s;a++)for(let c=0;c<s;c++)a===0&&c===0||a===0&&c===s-1||a===s-1&&c===0||n.push([i[a],i[c]]);return n}})(ve)),ve}var Ee={},rt;function un(){if(rt)return Ee;rt=1;const e=O().getSymbolSize,t=7;return Ee.getPositions=function(r){const n=e(r);return[[0,0],[n-t,0],[0,n-t]]},Ee}var ke={},ot;function fn(){return ot||(ot=1,(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(n){return n!=null&&n!==""&&!isNaN(n)&&n>=0&&n<=7},e.from=function(n){return e.isValid(n)?parseInt(n,10):void 0},e.getPenaltyN1=function(n){const i=n.size;let s=0,a=0,c=0,l=null,u=null;for(let f=0;f<i;f++){a=c=0,l=u=null;for(let h=0;h<i;h++){let d=n.get(f,h);d===l?a++:(a>=5&&(s+=t.N1+(a-5)),l=d,a=1),d=n.get(h,f),d===u?c++:(c>=5&&(s+=t.N1+(c-5)),u=d,c=1)}a>=5&&(s+=t.N1+(a-5)),c>=5&&(s+=t.N1+(c-5))}return s},e.getPenaltyN2=function(n){const i=n.size;let s=0;for(let a=0;a<i-1;a++)for(let c=0;c<i-1;c++){const l=n.get(a,c)+n.get(a,c+1)+n.get(a+1,c)+n.get(a+1,c+1);(l===4||l===0)&&s++}return s*t.N2},e.getPenaltyN3=function(n){const i=n.size;let s=0,a=0,c=0;for(let l=0;l<i;l++){a=c=0;for(let u=0;u<i;u++)a=a<<1&2047|n.get(l,u),u>=10&&(a===1488||a===93)&&s++,c=c<<1&2047|n.get(u,l),u>=10&&(c===1488||c===93)&&s++}return s*t.N3},e.getPenaltyN4=function(n){let i=0;const s=n.data.length;for(let c=0;c<s;c++)i+=n.data[c];return Math.abs(Math.ceil(i*100/s/5)-10)*t.N4};function o(r,n,i){switch(r){case e.Patterns.PATTERN000:return(n+i)%2===0;case e.Patterns.PATTERN001:return n%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(n+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return n*i%2+n*i%3===0;case e.Patterns.PATTERN110:return(n*i%2+n*i%3)%2===0;case e.Patterns.PATTERN111:return(n*i%3+(n+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(n,i){const s=i.size;for(let a=0;a<s;a++)for(let c=0;c<s;c++)i.isReserved(c,a)||i.xor(c,a,o(n,c,a))},e.getBestMask=function(n,i){const s=Object.keys(e.Patterns).length;let a=0,c=1/0;for(let l=0;l<s;l++){i(l),e.applyMask(l,n);const u=e.getPenaltyN1(n)+e.getPenaltyN2(n)+e.getPenaltyN3(n)+e.getPenaltyN4(n);e.applyMask(l,n),u<c&&(c=u,a=l)}return a}})(ke)),ke}var oe={},it;function Lt(){if(it)return oe;it=1;const e=Ke(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return oe.getBlocksCount=function(n,i){switch(i){case e.L:return t[(n-1)*4+0];case e.M:return t[(n-1)*4+1];case e.Q:return t[(n-1)*4+2];case e.H:return t[(n-1)*4+3];default:return}},oe.getTotalCodewordsCount=function(n,i){switch(i){case e.L:return o[(n-1)*4+0];case e.M:return o[(n-1)*4+1];case e.Q:return o[(n-1)*4+2];case e.H:return o[(n-1)*4+3];default:return}},oe}var Ae={},$={},st;function dn(){if(st)return $;st=1;const e=new Uint8Array(512),t=new Uint8Array(256);return(function(){let r=1;for(let n=0;n<255;n++)e[n]=r,t[r]=n,r<<=1,r&256&&(r^=285);for(let n=255;n<512;n++)e[n]=e[n-255]})(),$.log=function(r){if(r<1)throw new Error("log("+r+")");return t[r]},$.exp=function(r){return e[r]},$.mul=function(r,n){return r===0||n===0?0:e[t[r]+t[n]]},$}var at;function hn(){return at||(at=1,(function(e){const t=dn();e.mul=function(r,n){const i=new Uint8Array(r.length+n.length-1);for(let s=0;s<r.length;s++)for(let a=0;a<n.length;a++)i[s+a]^=t.mul(r[s],n[a]);return i},e.mod=function(r,n){let i=new Uint8Array(r);for(;i.length-n.length>=0;){const s=i[0];for(let c=0;c<n.length;c++)i[c]^=t.mul(n[c],s);let a=0;for(;a<i.length&&i[a]===0;)a++;i=i.slice(a)}return i},e.generateECPolynomial=function(r){let n=new Uint8Array([1]);for(let i=0;i<r;i++)n=e.mul(n,new Uint8Array([1,t.exp(i)]));return n}})(Ae)),Ae}var Ce,ct;function gn(){if(ct)return Ce;ct=1;const e=hn();function t(o){this.genPoly=void 0,this.degree=o,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(r){this.degree=r,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(r.length+this.degree);n.set(r);const i=e.mod(n,this.genPoly),s=this.degree-i.length;if(s>0){const a=new Uint8Array(this.degree);return a.set(i,s),a}return i},Ce=t,Ce}var Be={},xe={},Re={},lt;function Pt(){return lt||(lt=1,Re.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),Re}var L={},ut;function qt(){if(ut)return L;ut=1;const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let o="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";o=o.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+o+`)(?:.|[\r
]))+`;L.KANJI=new RegExp(o,"g"),L.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),L.BYTE=new RegExp(r,"g"),L.NUMERIC=new RegExp(e,"g"),L.ALPHANUMERIC=new RegExp(t,"g");const n=new RegExp("^"+o+"$"),i=new RegExp("^"+e+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return L.testKanji=function(c){return n.test(c)},L.testNumeric=function(c){return i.test(c)},L.testAlphanumeric=function(c){return s.test(c)},L}var ft;function G(){return ft||(ft=1,(function(e){const t=Pt(),o=qt();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,s){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?i.ccBits[0]:s<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return o.testNumeric(i)?e.NUMERIC:o.testAlphanumeric(i)?e.ALPHANUMERIC:o.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function r(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+n)}}e.from=function(i,s){if(e.isValid(i))return i;try{return r(i)}catch{return s}}})(xe)),xe}var dt;function pn(){return dt||(dt=1,(function(e){const t=O(),o=Lt(),r=Ke(),n=G(),i=Pt(),s=7973,a=t.getBCHDigit(s);function c(h,d,g){for(let p=1;p<=40;p++)if(d<=e.getCapacity(p,g,h))return p}function l(h,d){return n.getCharCountIndicator(h,d)+4}function u(h,d){let g=0;return h.forEach(function(p){const I=l(p.mode,d);g+=I+p.getBitsLength()}),g}function f(h,d){for(let g=1;g<=40;g++)if(u(h,g)<=e.getCapacity(g,d,n.MIXED))return g}e.from=function(d,g){return i.isValid(d)?parseInt(d,10):g},e.getCapacity=function(d,g,p){if(!i.isValid(d))throw new Error("Invalid QR Code version");typeof p>"u"&&(p=n.BYTE);const I=t.getSymbolTotalCodewords(d),v=o.getTotalCodewordsCount(d,g),y=(I-v)*8;if(p===n.MIXED)return y;const m=y-l(p,d);switch(p){case n.NUMERIC:return Math.floor(m/10*3);case n.ALPHANUMERIC:return Math.floor(m/11*2);case n.KANJI:return Math.floor(m/13);case n.BYTE:default:return Math.floor(m/8)}},e.getBestVersionForData=function(d,g){let p;const I=r.from(g,r.M);if(Array.isArray(d)){if(d.length>1)return f(d,I);if(d.length===0)return 1;p=d[0]}else p=d;return c(p.mode,p.getLength(),I)},e.getEncodedBits=function(d){if(!i.isValid(d)||d<7)throw new Error("Invalid QR Code version");let g=d<<12;for(;t.getBCHDigit(g)-a>=0;)g^=s<<t.getBCHDigit(g)-a;return d<<12|g}})(Be)),Be}var Se={},ht;function mn(){if(ht)return Se;ht=1;const e=O(),t=1335,o=21522,r=e.getBCHDigit(t);return Se.getEncodedBits=function(i,s){const a=i.bit<<3|s;let c=a<<10;for(;e.getBCHDigit(c)-r>=0;)c^=t<<e.getBCHDigit(c)-r;return(a<<10|c)^o},Se}var Ie={},Te,gt;function yn(){if(gt)return Te;gt=1;const e=G();function t(o){this.mode=e.NUMERIC,this.data=o.toString()}return t.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let n,i,s;for(n=0;n+3<=this.data.length;n+=3)i=this.data.substr(n,3),s=parseInt(i,10),r.put(s,10);const a=this.data.length-n;a>0&&(i=this.data.substr(n),s=parseInt(i,10),r.put(s,a*3+1))},Te=t,Te}var Me,pt;function bn(){if(pt)return Me;pt=1;const e=G(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(r){this.mode=e.ALPHANUMERIC,this.data=r}return o.getBitsLength=function(n){return 11*Math.floor(n/2)+6*(n%2)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(n){let i;for(i=0;i+2<=this.data.length;i+=2){let s=t.indexOf(this.data[i])*45;s+=t.indexOf(this.data[i+1]),n.put(s,11)}this.data.length%2&&n.put(t.indexOf(this.data[i]),6)},Me=o,Me}var Ne,mt;function wn(){if(mt)return Ne;mt=1;const e=G();function t(o){this.mode=e.BYTE,typeof o=="string"?this.data=new TextEncoder().encode(o):this.data=new Uint8Array(o)}return t.getBitsLength=function(r){return r*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(o){for(let r=0,n=this.data.length;r<n;r++)o.put(this.data[r],8)},Ne=t,Ne}var Ue,yt;function vn(){if(yt)return Ue;yt=1;const e=G(),t=O();function o(r){this.mode=e.KANJI,this.data=r}return o.getBitsLength=function(n){return n*13},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(r){let n;for(n=0;n<this.data.length;n++){let i=t.toSJIS(this.data[n]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[n]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),r.put(i,13)}},Ue=o,Ue}var Le={exports:{}},bt;function En(){return bt||(bt=1,(function(e){var t={single_source_shortest_paths:function(o,r,n){var i={},s={};s[r]=0;var a=t.PriorityQueue.make();a.push(r,0);for(var c,l,u,f,h,d,g,p,I;!a.empty();){c=a.pop(),l=c.value,f=c.cost,h=o[l]||{};for(u in h)h.hasOwnProperty(u)&&(d=h[u],g=f+d,p=s[u],I=typeof s[u]>"u",(I||p>g)&&(s[u]=g,a.push(u,g),i[u]=l))}if(typeof n<"u"&&typeof s[n]>"u"){var v=["Could not find a path from ",r," to ",n,"."].join("");throw new Error(v)}return i},extract_shortest_path_from_predecessor_list:function(o,r){for(var n=[],i=r;i;)n.push(i),o[i],i=o[i];return n.reverse(),n},find_path:function(o,r,n){var i=t.single_source_shortest_paths(o,r,n);return t.extract_shortest_path_from_predecessor_list(i,n)},PriorityQueue:{make:function(o){var r=t.PriorityQueue,n={},i;o=o||{};for(i in r)r.hasOwnProperty(i)&&(n[i]=r[i]);return n.queue=[],n.sorter=o.sorter||r.default_sorter,n},default_sorter:function(o,r){return o.cost-r.cost},push:function(o,r){var n={value:o,cost:r};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(Le)),Le.exports}var wt;function kn(){return wt||(wt=1,(function(e){const t=G(),o=yn(),r=bn(),n=wn(),i=vn(),s=qt(),a=O(),c=En();function l(v){return unescape(encodeURIComponent(v)).length}function u(v,y,m){const k=[];let M;for(;(M=v.exec(m))!==null;)k.push({data:M[0],index:M.index,mode:y,length:M[0].length});return k}function f(v){const y=u(s.NUMERIC,t.NUMERIC,v),m=u(s.ALPHANUMERIC,t.ALPHANUMERIC,v);let k,M;return a.isKanjiModeEnabled()?(k=u(s.BYTE,t.BYTE,v),M=u(s.KANJI,t.KANJI,v)):(k=u(s.BYTE_KANJI,t.BYTE,v),M=[]),y.concat(m,k,M).sort(function(x,B){return x.index-B.index}).map(function(x){return{data:x.data,mode:x.mode,length:x.length}})}function h(v,y){switch(y){case t.NUMERIC:return o.getBitsLength(v);case t.ALPHANUMERIC:return r.getBitsLength(v);case t.KANJI:return i.getBitsLength(v);case t.BYTE:return n.getBitsLength(v)}}function d(v){return v.reduce(function(y,m){const k=y.length-1>=0?y[y.length-1]:null;return k&&k.mode===m.mode?(y[y.length-1].data+=m.data,y):(y.push(m),y)},[])}function g(v){const y=[];for(let m=0;m<v.length;m++){const k=v[m];switch(k.mode){case t.NUMERIC:y.push([k,{data:k.data,mode:t.ALPHANUMERIC,length:k.length},{data:k.data,mode:t.BYTE,length:k.length}]);break;case t.ALPHANUMERIC:y.push([k,{data:k.data,mode:t.BYTE,length:k.length}]);break;case t.KANJI:y.push([k,{data:k.data,mode:t.BYTE,length:l(k.data)}]);break;case t.BYTE:y.push([{data:k.data,mode:t.BYTE,length:l(k.data)}])}}return y}function p(v,y){const m={},k={start:{}};let M=["start"];for(let b=0;b<v.length;b++){const x=v[b],B=[];for(let E=0;E<x.length;E++){const S=x[E],A=""+b+E;B.push(A),m[A]={node:S,lastCount:0},k[A]={};for(let R=0;R<M.length;R++){const C=M[R];m[C]&&m[C].node.mode===S.mode?(k[C][A]=h(m[C].lastCount+S.length,S.mode)-h(m[C].lastCount,S.mode),m[C].lastCount+=S.length):(m[C]&&(m[C].lastCount=S.length),k[C][A]=h(S.length,S.mode)+4+t.getCharCountIndicator(S.mode,y))}}M=B}for(let b=0;b<M.length;b++)k[M[b]].end=0;return{map:k,table:m}}function I(v,y){let m;const k=t.getBestModeForData(v);if(m=t.from(y,k),m!==t.BYTE&&m.bit<k.bit)throw new Error('"'+v+'" cannot be encoded with mode '+t.toString(m)+`.
 Suggested mode is: `+t.toString(k));switch(m===t.KANJI&&!a.isKanjiModeEnabled()&&(m=t.BYTE),m){case t.NUMERIC:return new o(v);case t.ALPHANUMERIC:return new r(v);case t.KANJI:return new i(v);case t.BYTE:return new n(v)}}e.fromArray=function(y){return y.reduce(function(m,k){return typeof k=="string"?m.push(I(k,null)):k.data&&m.push(I(k.data,k.mode)),m},[])},e.fromString=function(y,m){const k=f(y,a.isKanjiModeEnabled()),M=g(k),b=p(M,m),x=c.find_path(b.map,"start","end"),B=[];for(let E=1;E<x.length-1;E++)B.push(b.table[x[E]].node);return e.fromArray(d(B))},e.rawSplit=function(y){return e.fromArray(f(y,a.isKanjiModeEnabled()))}})(Ie)),Ie}var vt;function An(){if(vt)return me;vt=1;const e=O(),t=Ke(),o=an(),r=cn(),n=ln(),i=un(),s=fn(),a=Lt(),c=gn(),l=pn(),u=mn(),f=G(),h=kn();function d(b,x){const B=b.size,E=i.getPositions(x);for(let S=0;S<E.length;S++){const A=E[S][0],R=E[S][1];for(let C=-1;C<=7;C++)if(!(A+C<=-1||B<=A+C))for(let T=-1;T<=7;T++)R+T<=-1||B<=R+T||(C>=0&&C<=6&&(T===0||T===6)||T>=0&&T<=6&&(C===0||C===6)||C>=2&&C<=4&&T>=2&&T<=4?b.set(A+C,R+T,!0,!0):b.set(A+C,R+T,!1,!0))}}function g(b){const x=b.size;for(let B=8;B<x-8;B++){const E=B%2===0;b.set(B,6,E,!0),b.set(6,B,E,!0)}}function p(b,x){const B=n.getPositions(x);for(let E=0;E<B.length;E++){const S=B[E][0],A=B[E][1];for(let R=-2;R<=2;R++)for(let C=-2;C<=2;C++)R===-2||R===2||C===-2||C===2||R===0&&C===0?b.set(S+R,A+C,!0,!0):b.set(S+R,A+C,!1,!0)}}function I(b,x){const B=b.size,E=l.getEncodedBits(x);let S,A,R;for(let C=0;C<18;C++)S=Math.floor(C/3),A=C%3+B-8-3,R=(E>>C&1)===1,b.set(S,A,R,!0),b.set(A,S,R,!0)}function v(b,x,B){const E=b.size,S=u.getEncodedBits(x,B);let A,R;for(A=0;A<15;A++)R=(S>>A&1)===1,A<6?b.set(A,8,R,!0):A<8?b.set(A+1,8,R,!0):b.set(E-15+A,8,R,!0),A<8?b.set(8,E-A-1,R,!0):A<9?b.set(8,15-A-1+1,R,!0):b.set(8,15-A-1,R,!0);b.set(E-8,8,1,!0)}function y(b,x){const B=b.size;let E=-1,S=B-1,A=7,R=0;for(let C=B-1;C>0;C-=2)for(C===6&&C--;;){for(let T=0;T<2;T++)if(!b.isReserved(S,C-T)){let z=!1;R<x.length&&(z=(x[R]>>>A&1)===1),b.set(S,C-T,z),A--,A===-1&&(R++,A=7)}if(S+=E,S<0||B<=S){S-=E,E=-E;break}}}function m(b,x,B){const E=new o;B.forEach(function(T){E.put(T.mode.bit,4),E.put(T.getLength(),f.getCharCountIndicator(T.mode,b)),T.write(E)});const S=e.getSymbolTotalCodewords(b),A=a.getTotalCodewordsCount(b,x),R=(S-A)*8;for(E.getLengthInBits()+4<=R&&E.put(0,4);E.getLengthInBits()%8!==0;)E.putBit(0);const C=(R-E.getLengthInBits())/8;for(let T=0;T<C;T++)E.put(T%2?17:236,8);return k(E,b,x)}function k(b,x,B){const E=e.getSymbolTotalCodewords(x),S=a.getTotalCodewordsCount(x,B),A=E-S,R=a.getBlocksCount(x,B),C=E%R,T=R-C,z=Math.floor(E/R),W=Math.floor(A/R),tn=W+1,Je=z-W,nn=new c(Je);let fe=0;const re=new Array(R),Ze=new Array(R);let de=0;const rn=new Uint8Array(b.buffer);for(let J=0;J<R;J++){const ge=J<T?W:tn;re[J]=rn.slice(fe,fe+ge),Ze[J]=nn.encode(re[J]),fe+=ge,de=Math.max(de,ge)}const he=new Uint8Array(E);let Xe=0,q,D;for(q=0;q<de;q++)for(D=0;D<R;D++)q<re[D].length&&(he[Xe++]=re[D][q]);for(q=0;q<Je;q++)for(D=0;D<R;D++)he[Xe++]=Ze[D][q];return he}function M(b,x,B,E){let S;if(Array.isArray(b))S=h.fromArray(b);else if(typeof b=="string"){let z=x;if(!z){const W=h.rawSplit(b);z=l.getBestVersionForData(W,B)}S=h.fromString(b,z||40)}else throw new Error("Invalid data");const A=l.getBestVersionForData(S,B);if(!A)throw new Error("The amount of data is too big to be stored in a QR Code");if(!x)x=A;else if(x<A)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+A+`.
`);const R=m(x,B,S),C=e.getSymbolSize(x),T=new r(C);return d(T,x),g(T),p(T,x),v(T,B,0),x>=7&&I(T,x),y(T,R),isNaN(E)&&(E=s.getBestMask(T,v.bind(null,T,B))),s.applyMask(E,T),v(T,B,E),{modules:T,version:x,errorCorrectionLevel:B,maskPattern:E,segments:S}}return me.create=function(x,B){if(typeof x>"u"||x==="")throw new Error("No input text");let E=t.M,S,A;return typeof B<"u"&&(E=t.from(B.errorCorrectionLevel,t.M),S=l.from(B.version),A=s.from(B.maskPattern),B.toSJISFunc&&e.setToSJISFunction(B.toSJISFunc)),M(x,S,E,A)},me}var Pe={},qe={},Et;function Dt(){return Et||(Et=1,(function(e){function t(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let r=o.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+o);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const n=parseInt(r.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:n&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const n=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,s=r.scale||4;return{width:i,scale:i?4:s,margin:n,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,n){return n.width&&n.width>=r+n.margin*2?n.width/(r+n.margin*2):n.scale},e.getImageWidth=function(r,n){const i=e.getScale(r,n);return Math.floor((r+n.margin*2)*i)},e.qrToImageData=function(r,n,i){const s=n.modules.size,a=n.modules.data,c=e.getScale(s,i),l=Math.floor((s+i.margin*2)*c),u=i.margin*c,f=[i.color.light,i.color.dark];for(let h=0;h<l;h++)for(let d=0;d<l;d++){let g=(h*l+d)*4,p=i.color.light;if(h>=u&&d>=u&&h<l-u&&d<l-u){const I=Math.floor((h-u)/c),v=Math.floor((d-u)/c);p=f[a[I*s+v]?1:0]}r[g++]=p.r,r[g++]=p.g,r[g++]=p.b,r[g]=p.a}}})(qe)),qe}var kt;function Cn(){return kt||(kt=1,(function(e){const t=Dt();function o(n,i,s){n.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=s,i.width=s,i.style.height=s+"px",i.style.width=s+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,s,a){let c=a,l=s;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),s||(l=r()),c=t.getOptions(c);const u=t.getImageWidth(i.modules.size,c),f=l.getContext("2d"),h=f.createImageData(u,u);return t.qrToImageData(h.data,i,c),o(f,l,u),f.putImageData(h,0,0),l},e.renderToDataURL=function(i,s,a){let c=a;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),c||(c={});const l=e.render(i,s,c),u=c.type||"image/png",f=c.rendererOpts||{};return l.toDataURL(u,f.quality)}})(Pe)),Pe}var De={},At;function Bn(){if(At)return De;At=1;const e=Dt();function t(n,i){const s=n.a/255,a=i+'="'+n.hex+'"';return s<1?a+" "+i+'-opacity="'+s.toFixed(2).slice(1)+'"':a}function o(n,i,s){let a=n+i;return typeof s<"u"&&(a+=" "+s),a}function r(n,i,s){let a="",c=0,l=!1,u=0;for(let f=0;f<n.length;f++){const h=Math.floor(f%i),d=Math.floor(f/i);!h&&!l&&(l=!0),n[f]?(u++,f>0&&h>0&&n[f-1]||(a+=l?o("M",h+s,.5+d+s):o("m",c,0),c=0,l=!1),h+1<i&&n[f+1]||(a+=o("h",u),u=0)):c++}return a}return De.render=function(i,s,a){const c=e.getOptions(s),l=i.modules.size,u=i.modules.data,f=l+c.margin*2,h=c.color.light.a?"<path "+t(c.color.light,"fill")+' d="M0 0h'+f+"v"+f+'H0z"/>':"",d="<path "+t(c.color.dark,"stroke")+' d="'+r(u,l,c.margin)+'"/>',g='viewBox="0 0 '+f+" "+f+'"',I='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+g+' shape-rendering="crispEdges">'+h+d+`</svg>
`;return typeof a=="function"&&a(null,I),I},De}var Ct;function xn(){if(Ct)return Z;Ct=1;const e=sn(),t=An(),o=Cn(),r=Bn();function n(i,s,a,c,l){const u=[].slice.call(arguments,1),f=u.length,h=typeof u[f-1]=="function";if(!h&&!e())throw new Error("Callback required as last argument");if(h){if(f<2)throw new Error("Too few arguments provided");f===2?(l=a,a=s,s=c=void 0):f===3&&(s.getContext&&typeof l>"u"?(l=c,c=void 0):(l=c,c=a,a=s,s=void 0))}else{if(f<1)throw new Error("Too few arguments provided");return f===1?(a=s,s=c=void 0):f===2&&!s.getContext&&(c=a,a=s,s=void 0),new Promise(function(d,g){try{const p=t.create(a,c);d(i(p,s,c))}catch(p){g(p)}})}try{const d=t.create(a,c);l(null,i(d,s,c))}catch(d){l(d)}}return Z.create=t.create,Z.toCanvas=n.bind(null,o.render),Z.toDataURL=n.bind(null,o.renderToDataURL),Z.toString=n.bind(null,function(i,s,a){return r.render(i,a)}),Z}var Rn=xn();const Sn=on(Rn);function In(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let l=0;l<t.length;l++)t[l]=255;for(let l=0;l<e.length;l++){const u=e.charAt(l),f=u.charCodeAt(0);if(t[f]!==255)throw new TypeError(u+" is ambiguous");t[f]=l}const o=e.length,r=e.charAt(0),n=Math.log(o)/Math.log(256),i=Math.log(256)/Math.log(o);function s(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,f=0,h=0;const d=l.length;for(;h!==d&&l[h]===0;)h++,u++;const g=(d-h)*i+1>>>0,p=new Uint8Array(g);for(;h!==d;){let y=l[h],m=0;for(let k=g-1;(y!==0||m<f)&&k!==-1;k--,m++)y+=256*p[k]>>>0,p[k]=y%o>>>0,y=y/o>>>0;if(y!==0)throw new Error("Non-zero carry");f=m,h++}let I=g-f;for(;I!==g&&p[I]===0;)I++;let v=r.repeat(u);for(;I<g;++I)v+=e.charAt(p[I]);return v}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,f=0,h=0;for(;l[u]===r;)f++,u++;const d=(l.length-u)*n+1>>>0,g=new Uint8Array(d);for(;u<l.length;){const y=l.charCodeAt(u);if(y>255)return;let m=t[y];if(m===255)return;let k=0;for(let M=d-1;(m!==0||k<h)&&M!==-1;M--,k++)m+=o*g[M]>>>0,g[M]=m%256>>>0,m=m/256>>>0;if(m!==0)throw new Error("Non-zero carry");h=k,u++}let p=d-h;for(;p!==d&&g[p]===0;)p++;const I=new Uint8Array(f+(d-p));let v=f;for(;p!==d;)I[v++]=g[p++];return I}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+o+" character")}return{encode:s,decodeUnsafe:a,decode:c}}var Tn="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Bt=In(Tn);function Mn(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function _t(e,t,o=""){const r=Mn(e),n=e?.length;if(!r||t!==void 0){const s=o&&`"${o}" `,a="",c=r?`length=${n}`:`type=${typeof e}`;throw new Error(s+"expected Uint8Array"+a+", got "+c)}return e}function xt(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Nn(e,t){_t(e,void 0,"digestInto() output");const o=t.outputLen;if(e.length<o)throw new Error('"digestInto() output" expected to be of length >='+o)}function ee(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function _e(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function P(e,t){return e<<32-t|e>>>t}function ie(e,t){return e<<t|e>>>32-t>>>0}function zt(e,t={}){const o=(n,i)=>e(i).update(n).digest(),r=e(void 0);return o.outputLen=r.outputLen,o.blockLen=r.blockLen,o.create=n=>e(n),Object.assign(o,t),Object.freeze(o)}const Un=e=>({oid:Uint8Array.from([6,9,96,134,72,1,101,3,4,2,e])});function Ln(e,t,o){return e&t^~e&o}function Pn(e,t,o){return e&t^e&o^t&o}class Ft{blockLen;outputLen;padOffset;isLE;buffer;view;finished=!1;length=0;pos=0;destroyed=!1;constructor(t,o,r,n){this.blockLen=t,this.outputLen=o,this.padOffset=r,this.isLE=n,this.buffer=new Uint8Array(t),this.view=_e(this.buffer)}update(t){xt(this),_t(t);const{view:o,buffer:r,blockLen:n}=this,i=t.length;for(let s=0;s<i;){const a=Math.min(n-this.pos,i-s);if(a===n){const c=_e(t);for(;n<=i-s;s+=n)this.process(c,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===n&&(this.process(o,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){xt(this),Nn(t,this),this.finished=!0;const{buffer:o,view:r,blockLen:n,isLE:i}=this;let{pos:s}=this;o[s++]=128,ee(this.buffer.subarray(s)),this.padOffset>n-s&&(this.process(r,0),s=0);for(let f=s;f<n;f++)o[f]=0;r.setBigUint64(n-8,BigInt(this.length*8),i),this.process(r,0);const a=_e(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen must be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],i)}digest(){const{buffer:t,outputLen:o}=this;this.digestInto(t);const r=t.slice(0,o);return this.destroy(),r}_cloneInto(t){t||=new this.constructor,t.set(...this.get());const{blockLen:o,buffer:r,length:n,finished:i,destroyed:s,pos:a}=this;return t.destroyed=s,t.finished=i,t.length=n,t.pos=a,n%o&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const j=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),qn=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),V=new Uint32Array(64);class Dn extends Ft{constructor(t){super(64,t,8,!1)}get(){const{A:t,B:o,C:r,D:n,E:i,F:s,G:a,H:c}=this;return[t,o,r,n,i,s,a,c]}set(t,o,r,n,i,s,a,c){this.A=t|0,this.B=o|0,this.C=r|0,this.D=n|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=c|0}process(t,o){for(let f=0;f<16;f++,o+=4)V[f]=t.getUint32(o,!1);for(let f=16;f<64;f++){const h=V[f-15],d=V[f-2],g=P(h,7)^P(h,18)^h>>>3,p=P(d,17)^P(d,19)^d>>>10;V[f]=p+V[f-7]+g+V[f-16]|0}let{A:r,B:n,C:i,D:s,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const h=P(a,6)^P(a,11)^P(a,25),d=u+h+Ln(a,c,l)+qn[f]+V[f]|0,p=(P(r,2)^P(r,13)^P(r,22))+Pn(r,n,i)|0;u=l,l=c,c=a,a=s+d|0,s=i,i=n,n=r,r=d+p|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,n,i,s,a,c,l,u)}roundClean(){ee(V)}destroy(){this.set(0,0,0,0,0,0,0,0),ee(this.buffer)}}class _n extends Dn{A=j[0]|0;B=j[1]|0;C=j[2]|0;D=j[3]|0;E=j[4]|0;F=j[5]|0;G=j[6]|0;H=j[7]|0;constructor(){super(32)}}const X=zt(()=>new _n,Un(1)),zn=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),jt=Uint8Array.from(new Array(16).fill(0).map((e,t)=>t)),Fn=jt.map(e=>(9*e+5)%16),Vt=(()=>{const o=[[jt],[Fn]];for(let r=0;r<4;r++)for(let n of o)n.push(n[r].map(i=>zn[i]));return o})(),Kt=Vt[0],Ht=Vt[1],Yt=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>Uint8Array.from(e)),jn=Kt.map((e,t)=>e.map(o=>Yt[t][o])),Vn=Ht.map((e,t)=>e.map(o=>Yt[t][o])),Kn=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),Hn=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function Rt(e,t,o,r){return e===0?t^o^r:e===1?t&o|~t&r:e===2?(t|~o)^r:e===3?t&r|o&~r:t^(o|~r)}const se=new Uint32Array(16);class Yn extends Ft{h0=1732584193;h1=-271733879;h2=-1732584194;h3=271733878;h4=-1009589776;constructor(){super(64,20,8,!0)}get(){const{h0:t,h1:o,h2:r,h3:n,h4:i}=this;return[t,o,r,n,i]}set(t,o,r,n,i){this.h0=t|0,this.h1=o|0,this.h2=r|0,this.h3=n|0,this.h4=i|0}process(t,o){for(let d=0;d<16;d++,o+=4)se[d]=t.getUint32(o,!0);let r=this.h0|0,n=r,i=this.h1|0,s=i,a=this.h2|0,c=a,l=this.h3|0,u=l,f=this.h4|0,h=f;for(let d=0;d<5;d++){const g=4-d,p=Kn[d],I=Hn[d],v=Kt[d],y=Ht[d],m=jn[d],k=Vn[d];for(let M=0;M<16;M++){const b=ie(r+Rt(d,i,a,l)+se[v[M]]+p,m[M])+f|0;r=f,f=l,l=ie(a,10)|0,a=i,i=b}for(let M=0;M<16;M++){const b=ie(n+Rt(g,s,c,u)+se[y[M]]+I,k[M])+h|0;n=h,h=u,u=ie(c,10)|0,c=s,s=b}}this.set(this.h1+a+u|0,this.h2+l+h|0,this.h3+f+n|0,this.h4+r+s|0,this.h0+i+c|0)}roundClean(){ee(se)}destroy(){this.destroyed=!0,ee(this.buffer),this.set(0,0,0,0,0)}}const On=zt(()=>new Yn);const Ot={p:0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2fn,n:0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141n,h:1n,a:0n,b:7n,Gx:0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798n,Gy:0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8n},{p:H,n:He,Gx:Gn,Gy:Jn,b:Gt}=Ot,Y=32,Ye=64,ce={publicKey:Y+1,publicKeyUncompressed:Ye+1,seed:Y+Y/2},Zn=(...e)=>{"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...e)},N=(e="")=>{const t=new Error(e);throw Zn(t,N),t},Xn=e=>typeof e=="bigint",Qn=e=>typeof e=="string",Wn=e=>e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array",te=(e,t,o="")=>{const r=Wn(e),n=e?.length,i=t!==void 0;if(!r||i&&n!==t){const s=o&&`"${o}" `,a=i?` of length ${t}`:"",c=r?`length=${n}`:`type=${typeof e}`;N(s+"expected Uint8Array"+a+", got "+c)}return e},Oe=e=>new Uint8Array(e),Jt=(e,t)=>e.toString(16).padStart(t,"0"),Zt=e=>Array.from(te(e)).map(t=>Jt(t,2)).join(""),_={_0:48,_9:57,A:65,F:70,a:97,f:102},St=e=>{if(e>=_._0&&e<=_._9)return e-_._0;if(e>=_.A&&e<=_.F)return e-(_.A-10);if(e>=_.a&&e<=_.f)return e-(_.a-10)},Xt=e=>{const t="hex invalid";if(!Qn(e))return N(t);const o=e.length,r=o/2;if(o%2)return N(t);const n=Oe(r);for(let i=0,s=0;i<r;i++,s+=2){const a=St(e.charCodeAt(s)),c=St(e.charCodeAt(s+1));if(a===void 0||c===void 0)return N(t);n[i]=a*16+c}return n},$n=()=>globalThis?.crypto,It=(...e)=>{const t=Oe(e.reduce((r,n)=>r+te(n).length,0));let o=0;return e.forEach(r=>{t.set(r,o),o+=r.length}),t},er=(e=Y)=>$n().getRandomValues(Oe(e)),le=BigInt,ne=(e,t,o,r="bad number: out of range")=>Xn(e)&&t<=e&&e<o?e:N(r),w=(e,t=H)=>{const o=e%t;return o>=0n?o:t+o},tr=(e,t)=>{(e===0n||t<=0n)&&N("no inverse n="+e+" mod="+t);let o=w(e,t),r=t,n=0n,i=1n;for(;o!==0n;){const s=r/o,a=r%o,c=n-i*s;r=o,o=a,n=i,i=c}return r===1n?w(n,t):N("no inverse")},ze=e=>e instanceof U?e:N("Point expected"),Qt=e=>w(w(e*e)*e+Gt),Tt=e=>ne(e,0n,H),ae=e=>ne(e,1n,H),nr=e=>ne(e,1n,He),Fe=e=>(e&1n)===0n,Wt=e=>Uint8Array.of(e),rr=e=>Wt(Fe(e)?2:3),or=e=>{const t=Qt(ae(e));let o=1n;for(let r=t,n=(H+1n)/4n;n>0n;n>>=1n)n&1n&&(o=o*r%H),r=r*r%H;return w(o*o)===t?o:N("sqrt invalid")};class U{static BASE;static ZERO;X;Y;Z;constructor(t,o,r){this.X=Tt(t),this.Y=ae(o),this.Z=Tt(r),Object.freeze(this)}static CURVE(){return Ot}static fromAffine(t){const{x:o,y:r}=t;return o===0n&&r===0n?K:new U(o,r,1n)}static fromBytes(t){te(t);const{publicKey:o,publicKeyUncompressed:r}=ce;let n;const i=t.length,s=t[0],a=t.subarray(1),c=Mt(a,0,Y);if(i===o&&(s===2||s===3)){let l=or(c);const u=Fe(l);Fe(le(s))!==u&&(l=w(-l)),n=new U(c,l,1n)}return i===r&&s===4&&(n=new U(c,Mt(a,Y,Ye),1n)),n?n.assertValidity():N("bad point: not on curve")}static fromHex(t){return U.fromBytes(Xt(t))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(t){const{X:o,Y:r,Z:n}=this,{X:i,Y:s,Z:a}=ze(t),c=w(o*a),l=w(i*n),u=w(r*a),f=w(s*n);return c===l&&u===f}is0(){return this.equals(K)}negate(){return new U(this.X,w(-this.Y),this.Z)}double(){return this.add(this)}add(t){const{X:o,Y:r,Z:n}=this,{X:i,Y:s,Z:a}=ze(t),c=0n,l=Gt;let u=0n,f=0n,h=0n;const d=w(l*3n);let g=w(o*i),p=w(r*s),I=w(n*a),v=w(o+r),y=w(i+s);v=w(v*y),y=w(g+p),v=w(v-y),y=w(o+n);let m=w(i+a);return y=w(y*m),m=w(g+I),y=w(y-m),m=w(r+n),u=w(s+a),m=w(m*u),u=w(p+I),m=w(m-u),h=w(c*y),u=w(d*I),h=w(u+h),u=w(p-h),h=w(p+h),f=w(u*h),p=w(g+g),p=w(p+g),I=w(c*I),y=w(d*y),p=w(p+I),I=w(g-I),I=w(c*I),y=w(y+I),g=w(p*y),f=w(f+g),g=w(m*y),u=w(v*u),u=w(u-g),g=w(v*p),h=w(m*h),h=w(h+g),new U(u,f,h)}subtract(t){return this.add(ze(t).negate())}multiply(t,o=!0){if(!o&&t===0n)return K;if(nr(t),t===1n)return this;if(this.equals(Q))return hr(t).p;let r=K,n=Q;for(let i=this;t>0n;i=i.double(),t>>=1n)t&1n?r=r.add(i):o&&(n=n.add(i));return r}multiplyUnsafe(t){return this.multiply(t,!1)}toAffine(){const{X:t,Y:o,Z:r}=this;if(this.equals(K))return{x:0n,y:0n};if(r===1n)return{x:t,y:o};const n=tr(r,H);return w(r*n)!==1n&&N("inverse invalid"),{x:w(t*n),y:w(o*n)}}assertValidity(){const{x:t,y:o}=this.toAffine();return ae(t),ae(o),w(o*o)===Qt(t)?this:N("bad point: not on curve")}toBytes(t=!0){const{x:o,y:r}=this.assertValidity().toAffine(),n=je(o);return t?It(rr(r),n):It(Wt(4),n,je(r))}toHex(t){return Zt(this.toBytes(t))}}const Q=new U(Gn,Jn,1n),K=new U(0n,1n,0n);U.BASE=Q;U.ZERO=K;const Ge=e=>le("0x"+(Zt(e)||"0")),Mt=(e,t,o)=>Ge(e.subarray(t,o)),ir=2n**256n,je=e=>Xt(Jt(ne(e,0n,ir),Ye)),$t=e=>{const t=Ge(te(e,Y,"secret key"));return ne(t,1n,He,"invalid secret key: outside of range")},sr=(e,t=!0)=>Q.multiply($t(e)).toBytes(t),ar=e=>{try{return!!$t(e)}catch{return!1}},cr=(e,t)=>{const{publicKey:o,publicKeyUncompressed:r}=ce;try{const n=e.length;return t===!0&&n!==o||t===!1&&n!==r?!1:!!U.fromBytes(e)}catch{return!1}},lr=(e=er(ce.seed))=>{te(e),(e.length<ce.seed||e.length>1024)&&N("expected 40-1024b");const t=w(Ge(e),He-1n);return je(t+1n)},ur={isValidSecretKey:ar,isValidPublicKey:cr,randomSecretKey:lr},ue=8,fr=256,en=Math.ceil(fr/ue)+1,Ve=2**(ue-1),dr=()=>{const e=[];let t=Q,o=t;for(let r=0;r<en;r++){o=t,e.push(o);for(let n=1;n<Ve;n++)o=o.add(t),e.push(o);t=o.double()}return e};let Nt;const Ut=(e,t)=>{const o=t.negate();return e?o:t},hr=e=>{const t=Nt||(Nt=dr());let o=K,r=Q;const n=2**ue,i=n,s=le(n-1),a=le(ue);for(let c=0;c<en;c++){let l=Number(e&s);e>>=a,l>Ve&&(l-=i,e+=1n);const u=c*Ve,f=u,h=u+Math.abs(l)-1,d=c%2!==0,g=l<0;l===0?r=r.add(Ut(d,t[f])):o=o.add(Ut(g,t[h]))}return e!==0n&&N("invalid wnaf"),{p:o,f:r}},gr=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","page","pair","palace","palm","panda","paragraph","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","racoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situation","six","size","skate","sketch","ski","skill","skin","skirt","skull","sleeve","slight","slim","sling","slight","slice","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","standard","stare","state","steak","steel","stem","step","stereo","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trip","trophy","trouble","truck","true","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];function pr(e=""){try{console.log("[DEBUG] generateMnemonic called");const t=crypto.getRandomValues(new Uint8Array(16));if(e){const c=new TextEncoder().encode(e);for(let l=0;l<16;l++)t[l]^=c[l%c.length]}const r=X(t)[0]>>>4;let n="";for(const a of t)n+=a.toString(2).padStart(8,"0");n+=r.toString(2).padStart(4,"0");const i=[];for(let a=0;a<12;a++){const c=parseInt(n.substring(a*11,a*11+11),2);i.push(gr[c])}const s=i.join(" ");return console.log("[DEBUG] Mnemonic:",s),s}catch(t){throw console.error("[ERROR] generateMnemonic:",t),t}}async function mr(){try{console.log("[DEBUG] generateRandomKeyPair started");const e=ur.randomSecretKey(),t=sr(e,!0),o=new Uint8Array(38);o[0]=128,o.set(e,1),o[33]=1;const r=X(o.subarray(0,34)),n=X(r);o.set(n.subarray(0,4),34);const i=Bt.encode(o),s=X(t),a=On(s),c=new Uint8Array(25);c[0]=0,c.set(a,1);const l=X(c.subarray(0,21)),u=X(l);c.set(u.subarray(0,4),21);const f=Bt.encode(c);return console.log("[DEBUG] Address:",f),console.log("[DEBUG] Private WIF:",i),{privateKey:i,address:f}}catch(e){throw console.error("[ERROR] generateRandomKeyPair:",e),e}}async function yr(e){try{return console.log("[DEBUG] generateQR called"),await Sn.toDataURL(e,{errorCorrectionLevel:"H",scale:8})}catch(t){return console.error("[ERROR] generateQR:",t),""}}export{mr as a,yr as b,pr as g};
