import{f as h,a as _}from"../chunks/9GQ5lURB.js";import"../chunks/B6pr0Rtx.js";import{am as N,an as V,b as z,ao as F,k as I,y as u,ap as J,O as L,Q as P,g as f,R as Q,U as b,S as c,a1 as k,T as d,aq as g,W as U}from"../chunks/CTBj1of8.js";import{e as $,s as A}from"../chunks/C6_Yvl47.js";import{i as j}from"../chunks/CTTngGDe.js";import{t as S,f as H,a as X,s as Y}from"../chunks/Cakp_Jc6.js";import{r as Z}from"../chunks/QUIXCsb4.js";import{i as aa}from"../chunks/1UPcjnW0.js";import{b as ea}from"../chunks/CXam88hm.js";import{g as ra}from"../chunks/6lsKY15j.js";import{g as ta,a as sa}from"../chunks/DTyV0idg.js";function la(a,r,o=r){var n=new WeakSet;N(a,"input",async t=>{var s=t?a.defaultValue:a.value;if(s=W(a)?D(s):s,o(s),u!==null&&n.add(u),await V(),s!==(s=r())){var v=a.selectionStart,m=a.selectionEnd,p=a.value.length;if(a.value=s??"",m!==null){var i=a.value.length;v===m&&m===p&&i>p?(a.selectionStart=i,a.selectionEnd=i):(a.selectionStart=v,a.selectionEnd=Math.min(m,i))}}}),(I&&a.defaultValue!==a.value||z(r)==null&&a.value)&&(o(W(a)?D(a.value):a.value),u!==null&&n.add(u)),F(()=>{var t=r();if(a===document.activeElement){var s=J??u;if(n.has(s))return}W(a)&&t===D(a.value)||a.type==="date"&&!t&&!a.value||t!==a.value&&(a.value=t??"")})}function W(a){var r=a.type;return r==="number"||r==="range"}function D(a){return a===""?null:+a}function oa(a){return function(...r){var o=r[0];return o.preventDefault(),a?.apply(this,r)}}const na=!0,Ea=Object.freeze(Object.defineProperty({__proto__:null,prerender:na},Symbol.toStringTag,{value:"Module"}));var ia=h('<div class="alert alert-danger border-0 rounded-4 shadow-sm"><i class="bi bi-exclamation-triangle-fill me-2"></i> </div>'),ca=h('<span class="spinner-border spinner-border-sm" role="status"></span> <span>Encrypting...</span>',1),da=h('<i class="bi bi-qr-code-scan"></i> <span>Generate and Print Wallet</span>',1),va=h('<div class="container py-5 mt-4"><div class="row justify-content-center"><div class="col-xl-6 col-lg-7 col-md-10"><div class="glass glass-card p-4 p-md-5 text-center"><div class="mb-4"><div class="icon-bubble mx-auto mb-3 svelte-13c00bm"><i class="bi bi-shield-lock-fill fs-2 text-primary"></i></div> <h2 class="fw-bold mb-2">Secure Wallet Creator</h2> <p class="text-muted small">Generate a cold-storage paper wallet locally.</p></div> <!> <div class="alert glass border-0 rounded-4 text-start mb-4 small"><i class="bi bi-info-circle-fill me-2 text-primary"></i> Enter an optional passphrase for additional entropy. This will be converted into your mnemonic backup.</div> <form class="text-start"><div class="mb-4"><label for="passphrase" class="form-label fw-bold ps-2">Optional Passphrase</label> <input type="text" class="form-control form-control-lg rounded-pill px-4 svelte-13c00bm" id="passphrase" placeholder="Leave empty for maximum randomness" autocomplete="off"/></div> <button type="submit" class="btn btn-primary w-100 btn-lg py-3 shadow-lg d-flex align-items-center justify-content-center gap-2"><!></button></form></div></div></div></div>');function ka(a,r){L(r,!1);let o=k(""),n=k(!1),t=k("");async function s(){try{g(n,!0),g(t,""),console.log("[DEBUG] generateWallet started");const e=ta(f(o)),{privateKey:l,address:y}=await sa(),T={mnemonic:e,privateKey:l,address:y};console.log("[DEBUG] Wallet data prepared:",{address:y,hasPrivateKey:!!l});const q=btoa(JSON.stringify(T)),G=`${ea}/print?data=${encodeURIComponent(q)}`;console.log("[DEBUG] Navigating to:",G),await ra(G)}catch(e){console.error("[ERROR] generateWallet crashed:",e),g(t,"Failed to generate wallet. Check console for details.")}finally{g(n,!1)}}aa();var v=va(),m=c(v),p=c(m),i=c(p),O=b(c(i),2);{var M=e=>{var l=ia(),y=b(c(l),1,!0);d(l),P(()=>A(y,f(t))),S(1,l,()=>Y),_(e,l)};j(O,e=>{f(t)&&e(M)})}var x=b(O,4),w=c(x),R=b(c(w),2);Z(R),d(w);var E=b(w,2),B=c(E);{var C=e=>{var l=ca();U(2),_(e,l)},K=e=>{var l=da();U(2),_(e,l)};j(B,e=>{f(n)?e(C):e(K,!1)})}d(E),d(x),d(i),d(p),d(m),d(v),P(()=>E.disabled=f(n)),la(R,()=>f(o),e=>g(o,e)),$("submit",x,oa(s)),S(1,i,()=>H,()=>({y:30,duration:800})),S(1,v,()=>X,()=>({duration:600})),_(a,v),Q()}export{ka as component,Ea as universal};
